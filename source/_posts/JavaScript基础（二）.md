---
title: JavaScript基础Ⅱ（持续更新）
date: 2020-08-08 22:50:36
tags:
- JavaScript
---
三十四、DOM
DOM（Document Object Model）：文档对象模型，JS通过DOM来对HTML文档进行操作，要点：；
（1）节点（Node）：构成HTML文档最基本的单元，节点类型：文档节点、元素节点、属性节点、文本节点；
（2）浏览器已经提供文档节点对象（document），是window属性，可在页面中直接使用，文档节点代表整个页面；
（3）通过元素对象的id获取HTML文档中的对象：document.getElementById("对象id名")；
（4）修改按钮的文字：JS中获取到的按钮对象名.innerHTML="文字"；
&#8195;&#8195;1）innerHTML：可获取到元素内部的html代码，但是对自结束标签的对象无意义；
&#8195;&#8195;2）innerText：与innerHTML类似，不同的是innerText会自动去除html标签；
（5）事件：文档或者浏览器窗口中发生的一些特定的交互瞬间，可以在事件对应的属性中设置一些JS代码，当事件被触发时，代码将会被执行；
（6）给一个对象绑定一个单击事件：
&#8195;&#8195;1）在script标签内，JS获取到的对象名.onclick=function(){}；
&#8195;&#8195;2）在对象所在的标签中使用onclick="函数名()"来绑定，函数代码在script标签中编写；
&#8195;&#8195;3）可以通过window对象的onload事件，定义在整个页面加载完后才触发的方法函数事件；
（7）获取元素节点方式：
&#8195;&#8195;通过document对象调用：
&#8195;&#8195;&#8195;&#8195;1）getElementById()：通过标签的id获取到一个元素节点对象；
&#8195;&#8195;&#8195;&#8195;2）getElementsByTagName()：通过标签名获取到一组元素节点对象；
&#8195;&#8195;&#8195;&#8195;3）getElementsByName()：通过name属性获取到一组元素节点对象；
&#8195;&#8195;获取元素节点的子元素节点：
&#8195;&#8195;&#8195;&#8195;1）getElementsByTagName()：通过元素节点调用getElementsByTagName，可以获取该元素节点特定name名的所有子元素节点；
&#8195;&#8195;&#8195;&#8195;2）childNodes：通过该元素节点特定name名的所有子元素节点的childNodes属性可以获取包括文本节点在内的所有节点，根据DOM标签标签间空白也会被当作成文本节点（仅支持IE8以上的浏览器）；
&#8195;&#8195;&#8195;&#8195;3）children：通过该元素节点特定name名的所有子元素节点的children属性可以获取当前元素的所有子元素（支持所有浏览器）；
&#8195;&#8195;&#8195;&#8195;4）firstNode：通过该元素节点特定name名的所有子元素节点的firstNode属性可以获取当前节点的第一个子节点（包括空白文本）；
&#8195;&#8195;&#8195;&#8195;5）firstfirstElementChild：通过该元素节点特定name名的所有子元素节点的firstfirstElementChild属性可以获取当前元素节点下的第一个子元素（仅支持IE8以上的浏览器）；
&#8195;&#8195;&#8195;&#8195;6）lastNode：通过该元素节点特定name名的所有子元素节点的lastNode属性可以获取当前节点的最后一个子节点（包括空白文本）；
&#8195;&#8195;获取父节点和兄弟节点：
&#8195;&#8195;&#8195;&#8195;1）parentNode：通过元素节点的parentNode属性可以获取到这个元素节点的父节点；
&#8195;&#8195;&#8195;&#8195;2）previousSibling：通过元素节点的previousSibling属性可以获取到这个元素节点的前一个兄弟结点（包括会获取到空白文档）；
&#8195;&#8195;&#8195;&#8195;3）previousElementSibling：通过元素节点的previousElementSibling属性可以获取到这个元素节点的前一个兄弟元素（不会获取到空白文档，此属性支持IE8以上的浏览器）；
&#8195;&#8195;&#8195;&#8195;4）nextSibling：通过元素节点的nextSibling属性可以获取到这个元素节点的后一个兄弟节点（包括会获取到空白文档）；
（8）其他的一些查询方式：
&#8195;&#8195;1）document.body：查询出标签body；
&#8195;&#8195;2）document.documentElement：查询出html根标签；
&#8195;&#8195;3）document.getElementsByClassName()：根据元素的class属性查询一组元素节点对象（仅支持IE8以上的浏览器）；
&#8195;&#8195;4）document.querySelector()：可根据一个CSS选择器来查询一个元素节点对象，该方法查询总是会返回唯一的一个元素，若满足条件的有多个，那么它仍然是只会返回第一个（需要一个选择器的字符串作为参数，仅支持IE8以上的浏览器）；
&#8195;&#8195;5）document.querySelectorAll()：可根据一个CSS选择器来查询元素节点对象，该方法会将所有符合条件的元素对象封装到一个数组当中并返回，即便只有一个元素也会封装到一个数组当中（需要一个选择器的字符串作为参数，支持IE8及以上的浏览器）；
（9）dom增加：dom的增加包括以下步骤：
&#8195;&#8195;1）元素节点对象的创建：document.createElement()：需要一个标签名作为参数，函数会根据标签名创建元素节点对象并且将创建好的对象作为返回值返回；
&#8195;&#8195;2）文本节点对象的创建：document.createTextNode()：需要一个文本内容作为参数，函数会根据文本内容创建文本对象并且会将新的节点返回；
&#8195;&#8195;3）将文本节点对象添加到元素节点对象中（文本节点是这个元素节点的子节点）：父节点（创建的元素节点对象）.appendChild(子节点（创建的文本节点对象）)，appendChild()：向一个父节点中添加一个新的子节点；
&#8195;&#8195;另外，appendChild是在父节点的最后添加，而要想在指定位置添加的话可采用：insertBefore()的方法，此方法可在指定子节点前插入新的子节点，语法：父节点.insertBefore(新节点，旧结点)；
（10）dom删除：可删除一个子节点，语法：父节点.removeChild(子节点)；
（11）dom修改：除了一般的innerHTML修改内容外，还可以使用指定的子节点替换已有的子节点已达到修改的效果，语法：父节点.replaceChild(新节点，旧节点)；
（12）注意点：点击超链接后，超链接默认会跳转页面，可使用return false取消默认行为；
（13）注意点：在for循环内为a标签绑定响应函数时，for循环会在页面加载完成后立即执行，而响应函数会在超链接被点击时才执行，当响应函数执行时，for循环已执行完毕；
（14）通过JS修改元素样式：语法：元素.style.样式名=样式值；
&#8195;&#8195;要点注意：
&#8195;&#8195;1）CSS样式中有"-"的名称在JS中是不合法的，例如：background-color，需要将这种样式名修改，修改规则：将"-"去掉并将"-"后的单词首字母大写；
&#8195;&#8195;2）通过style属性设置和读取的都是内联样式（具有较高的优先级）；
（15）获取当前元素正在显示的样式，两种方式获取：
&#8195;&#8195;第一种：元素.currentStyle.样式名（只支持IE浏览器）；
&#8195;&#8195;&#8195;&#8195;当元素样式没有设置width时，若使用该方法获取会获取到auto；
&#8195;&#8195;&#8195;&#8195;currentStyle读取到的样式是只读的，不能修改；
&#8195;&#8195;第二种：getComputedStyle(obj,name)（不支持IE8及以下），要点：
&#8195;&#8195;&#8195;&#8195;参数obj：要获取样式的元素；
&#8195;&#8195;&#8195;&#8195;参数name：可传递一个伪元素，一般传递null；
&#8195;&#8195;&#8195;&#8195;这是window的函数方法，可直接使用：
&#8195;&#8195;&#8195;&#8195;该方法会返回一个对象，对象中封装了当前元素对应的样式
&#8195;&#8195;&#8195;&#8195;当元素样式没有设置width时，若使用该方法获取会获取到一个当前窗口的准确值；
&#8195;&#8195;&#8195;&#8195;getComputedStyle函数方法读取到的样式是只读的，不能修改；