---
title: 华为HCNP-路由策略
date: 2020-04-30 17:27:32
tags:
- 华为HCNP
---
路由策略是一套用于对路由信息进行过滤、属性设置等操作的方法，通过对路由的控制，可以影响数据流量的转发操作。
简述两种完成路由匹配任务的控制列表：
ACL（访问控制列表）：
&#8195;由permit|deny语句组成的一系列有顺序且根据源地址、目的地之、端口号等来描述的规则，可以用来匹配数据包和路由信息，但无法匹配路由的目的网络掩码；包含以下三类：
&#8195;&#8195;（1）基于接口的访问控制列表：数字范围：1000-1999，基于接口的访问控制列表；
&#8195;&#8195;（2）基本的访问控制列表：数字范围：2000-2999，可匹配源IP地址；
&#8195;&#8195;（3）高级的访问控制列表：数字范围：3000-3999，可匹配源IP地址、目的地址、源端口号、目的端口号、协议号等；
配置命令：rule 语句序号 permit/deny source 网络地址 网络掩码 
&#8195;匹配顺序：
&#8195;&#8195;（1）配置顺序：按照用户配置ACL规则的先后进行匹配；
&#8195;&#8195;（2）自动排序：使用“深度优先”的原则（把指定范围最小的语句排在最前面）；<!--more-->
IP前缀列表：
&#8195;一个列表形态工具，匹配的对象是路由条目（目的网络地址(IP前缀)+掩码长度共同标识），能够指定被匹配对象的目的网络地址和目的网络掩码长度，实现对路由的精确匹配。要点：
&#8195;&#8195;（1）基本配置命令：ip ip-prefix 列表名称 index 语句序号 permit/deny 网络地址 指定掩码长度
&#8195;&#8195;&#8195;另外，命令还有两种关键字：greater-equal（大于或等于指定值）、less-equal（小于或等于指定值）；使用示例：ip ip-prefix 列表名称 index 语句序号 permit/deny 网络地址 指定掩码长度 greater-equal number1 less-equal number2（可以单独配置greater-equal或less-equal）；
&#8195;&#8195;（2）IP前缀列表性能优于访问控制列表，但不能过滤数据包；

*以上列表以deny作为路由匹配的默认选项。